---
layout: post
title: "shake! 2019 본선 출제 후기"
author: hojoon0205
date: 2019-07-21
tags: shake shake2019 competitive-programming
---

 shake!는 경인지역 6개 대학(아주대학교, 경희대학교, 성균관대학교, 인하대학교, 한국항공대학교, 한양대학교 ERICA)의 학생들이 참여하는 대회입니다. 예선을 통해 각 학교 대표 10명이 선발되고, 본선에는 60명의 대표들이 모여 대회를 치룹니다.

 이 포스트는 2019년 shake! 본선(7월 7일에 열림)의 출제위원을 맡으면서 있었던 일들과 결과에 대한 후기를 다룹니다. 기타 운영에 관해서는 참여하지 않았기에 후원사 찾기, 출제진이 구성되는 과정 등은 다루지 않습니다. 출제진은 koosaga님과 ainta님, spectaclehong님, 그리고 메인 운영진인 Acka님과 저(hojoon0205)로 이루어졌습니다(모두 acmicpc.net 아이디 기준입니다).

 혹시 이 대회의 문제들을 풀어보고 싶으신 분들은 백준 온라인 저지에 가셔서 대회에 있는 [2019 경인지역 6개대학 연합 프로그래밍 경시대회 shake!](https://www.acmicpc.net/contest/view/441)에 들어가셔서 문제들을 보실 수 있습니다. 백준 문제 번호로는 17300번 부터 17307번 까지입니다.

# 대회 전 출제과정

## 난이도 구성

 대회의 룰은 ACM-ICPC와 같았습니다. 모두가 성취감을 느낄 수 있는 것이 좋은 대회라 생각했기에, 스코어보드가 밑에 있는 조건들을 만족한다면 난이도 밸런싱이 잘 된 것이라 생각했습니다.

1. 모두 푼 사람은 안 나올것
2. 아무도 못 푸는 문제는 없을것(1명 이상에게 풀릴 것)
3. 아무것도 못 푸는 사람은 없을듯(모든 참가자가 1문제 이상은 풀 수 있게)
4. 그래도 1등은 문제수-1 정도는 풀어줬으면 좋겠다.

 그리고 작년 기출문제와 결과를 통해 참가자들의 실력 구성을 다음과 같이 예상했습니다.

> 참가자격에 '역대 ICPC 수상자 참가 불가', '역대 shake! 3위 이내 입상자 참가 불가' 조건이 있으므로 실력 좋은 사람은 신입생 정도 말곤 불가능할 것.
> 학부에서 자료구조와 알고리즘에 대해 배웠고 구현도 가능하지만 PS에 대해서 따로 공부하지 않은  사람들이 평균
> 작년에 Parametric Search + DP가 아무도 못 푸는 문제가 되었으니, 더더욱 PS에 대해서는 익숙하지 않을 것이다.
> Codeforces 기준 Blue중위권이 상위권~탑1 (Div2 기준 2시간 동안 A,B,C는 웬만큼 풀고 D번 문제 간간히 풀 수 있는 수준)

 저대로면 PS에 익숙하지 않은 사람들이 대부분일 것이라 생각하여 학부 수준에서 다루는 알고리즘에 한해서 내기로 합의했습니다.

## BrainStorming ~ 문제 확정

 5월 중순에 출제진이 확정된 후, 모든 출제진이 각자 문제 아이디어들을 내는 시간을 가졌습니다. github에 repository를 하나 파서 공유하는 식으로 작업했고, 약 2주 가량 모은 결과 12개의 문제가 나왔습니다. 이후 출제진이 모여 문제 선별 및 개량/개조 과정을 거치는 작업을 하게 되었습니다. 총 7~8개의 문제들을 출제할 생각이고, 그 중 한 문제는 후원사인 Superb AI에서 준 문제로 고정했어야 하기 때문에 사실상 6문제를 선별하는 과정이었습니다. 

 위에서 말한 난이도 구성에 맞게끔 고르기 위해, 먼저 각 문제의 난이도들을 Codeforces의 Div2 수준에서 몇 번 문제의 난이도와 비슷한지 각각 부여했습니다. 상당수가 Div2D와 비슷한 수준이라 많은 사람들이 풀기 힘들어할 난이도라 예상했습니다. 그래서 일부 문제에 대해서 난이도를 하향시키는 작업을 했고, Div2D 문제 하나를 Div2C로 낮추는 결과가 되었습니다.

 결과적으로 6개의 문제와 1개의 후원사 문제로 이루어진 문제set가 만들어졌고, 출제진이 제작한 문제들은 Div2 기준 A 한 문제, B 한 문제, C 한 문제, D 세 문제(어디까지나 출제진들의 생각입니다)로 이루어졌습니다. 다만, 후원사 문제 하나가 굉장히 큰 변수로 작용했습니다. 우리는 올솔브가 아쉽게 안나오는 수준의 난이도 분포를 원했으나, 후원사에선 자신들이 낸 문제가 풀리지 않아야 좋은 것이라며 굉장히 어려운 문제를 주셨습니다. 개인적으로 Div2F나 그 이상이라 생각했고, 실제 대회에서 이 문제에 시간을 소비하는 참가자가 나오지 않길 바라며 없는 문제 취급하며 대회를 준비했습니다.

## Test Data 제작 및 검수

 문제 set이 확정이 난 이후, Codeforces 사이트에서 별도로 제공하고 있는 polygon이란 문제 제출 플랫폼(https://polygon.codeforces.com/)을 이용하여 데이터 제작과 검증 및 다른 사람들의 검수를 진행했습니다. 이 과정에 약 1달 정도의 시간을 쓴 것 같습니다. 각자 데이터를 제작하고, 각자 낸 문제의 잘못된 풀이들을 생각하며 counter-case들을 준비하고, 다른 사람들이 낸 문제들을 틀린 풀이로 맞출 수 있는지 등에 대해서 서로 검수하는 작업까지 진행합니다. polygon 플랫폼이 너무 많은 기능을 잘 지원해주고 있어서 특별히 어려운 점은 없었던 것 같습니다. polygon 사용법에 대해 궁금하신 분은 Acka님의 포스트 https://www.secmem.org/blog/2019/05/17/polygon-how-to-use/ 를 참고해주세요.

## BOJ Stack 플랫폼을 통한 문제 등록 과정

 우리의 대회 플랫폼은 어디까지나 백준 온라인 저지(이하 BOJ)이기 때문에, 결국 polygon의 채점환경 말고 BOJ에서의 채점환경에서도 돌려보아야 했고, BOJ에서 문제는 잘 읽혀지는가, 시간제한은 얼마나 달라져야 하는가 등등에 대해서 다시 확인해보아야 했습니다. polygon에서 본인이 제작한 문제들의 text, test data, solution file 모두 따로 받아올 수 있었고, BOJ가 잘 만들어진 플랫폼이었기 때문에 STL에 대한 issue가 잠시 있었던 것 빼곤 사실상 파일과 텍스트 옮기는 작업이나 다름없었습니다.

## 급하게 생긴 추가(메인) 후원사

 문제 출제가 마무리되고 실제 대회 약 일주일 전 즈음, 갑자기 추가 후원사 NC Soft가 생겼습니다. 그래서 급하게 새로운 문제를 출제해야 하게 되었습니다. 문제 컨셉은 Acka님께서, 초안 완성은 ainta님께서 만들어주셨습니다. 문제의 난이도는 Div2C를 담당하는 문제와 Div2D를 담당하는 세 문제 사이의 난이도 간격이 너무 커 그 사이를 채울 수 있을만한 문제가 되길 원했습니다. 그러나 초안으로 나왔던 문제는 난이도 사이에 들어가긴 커녕 Div2D를 담당해줄 네번째 문제가 되기 좋아보여 다소 쉽게 문제를 변형했습니다. 여전히 Div2D로 나와도 이상하진 않을 수준이었으나, 그래도 사이에 들어갈만한 난이도로는 바뀌었다고 생각했습니다.
 이렇게 급하게 문제를 만들게 되었으나, 생각보다 좋은 퀄리티와 적절한 난이도로 나오게 된 것 같아 만족스러웠습니다. 이 문제로 인해 8문제가 출제되었으며, 굉장히 어려운 한 문제 때문에 사실상 7문제만 있는 대회라고 개인적으로 생각하고 있었습니다. 이 8문제(A번~H번)로 대회 하루 전 출제지가 완성되었으며, 실제 대회를 기다리는 일만 남았습니다.

# 대회 도중

 대회 도중 출제진이 '해야 할 일'은 질문을 받고 답변하는 것 말곤 그리 많지 않았습니다. 하지만 대회 도중이란 것은 출제진이 모여서 난이도에 대해 회의했었고, 우리 의도대로 참가자가 풀어주었는지, 혹은 새로운 풀이가 등장하여 출제진을 놀라게 해 줄 것인지, 스코어보드는 우리가 예상한 난이도 순서대로 풀렸는지, 우리가 생각한 좋은 대회의 기준에 얼마나 적합했는지 등등 지금까지 우리가 해왔던 노력과 정성이 참가자들에 의해 평가받는 시간이고, 그 평가를 스코어보드 라는 형태로 실시간으로 받게 되는 시간입니다. 그렇기에 할 일이 없더라도 두근거리며 스코어보드 경과를 지켜볼 수 밖에 없고, 각자 낸 문제가 풀렸을 때 기뻐하는 시간이 되었습니다. 개인적으론 제가 재학중인 대학이 이 대회에 참가하는 대학이라 같은 대학 출신 참가자들을 응원하는 재미도 있었습니다.

 우선 모든 사람이 풀게끔 낸 A번 문제는 다행히도 빠르게 많은 사람이 풀어주었습니다. 그러나 두번째로 쉬운 문제로 의도했던 F번 문제를 그 당시 스코어보드 1등이었던 참가자가 7번 연속으로 도전하여 실패해버렸고, 그 순간부터 사람들이 F번 문제에 겁을 먹었는지 한동안 스코어보드가 얼어있었습니다. 이 때가 모든 출제진이 가장 당황한 순간이었을거라 생각합니다. 다행히 다음 누군가가 F번 문제를 풀어주었고, 점차 F번을 푼 사람이 증가하기 시작했습니다. 그 후 다음으로 쉬운 문제들이라 생각했던 H번 문제와 B번 문제가 점차 풀리기 시작했고, 4문제를 푼 사람이 4명이 나오자 프리징을 걸었습니다. 이들이 프리징 이후 제출로 5문제를 풀어준다면 더 재밌는 스코어보드가 될 것 같았기 때문이었죠. 그리고 정말 신기하게도 남은 프리징 시간 동안 그 후원사 문제인 D번을 제외하고(D번 문제는 애초에 제출 횟수가 0회였습니다. 차라리 시간을 쏟은 참가자가 없다는 소리인것 같아 다행이란 생각이 들었습니다) 모든 문제가 1명 이상에게 풀렸습니다. 이전에 말했던 2번 조건이 만족하게 된 것이었습니다. 놀랍게도 E번에는 출제진 전원 생각 못했던 풀이가 나와 출제진이 모두 감탄했습니다. 그 이후엔 대회가 끝날 때 까지 1등이 몇 문제를 풀고 끝날 것인지, 모든 참가자가 1솔브 이상을 해줄 것인지에 대해 보면서 대회가 종료될 때 까지 기다렸습니다.

# 대회 종료 후, 후기

 우선 제가 예상했던 난이도 순(=푼 사람수 역순)은 다음과 같았습니다.

> A < F < H < B < C < (E, G) <<< D(사실상 없는 문제)

 그리고 실제 결과도 정확히 저 난이도 순이었습니다. 난이도 예상과 푼 사람수와 정확히 매칭되어 기분이 굉장히 좋았습니다. 그렇다면 위에서 언급했던 좋은 밸런싱은 잘 되었을까 살펴보았습니다.

1. 모두 푼 사람은 안 나올것 -> 1등이 5문제를 풀어서 만족
2. 아무도 못 푸는 문제는 없을것(1명 이상에게 풀릴 것) -> 없는 문제 취급하고 있던 D번을 제외하고 모든 문제가 풀렸습니다. 그 문제는 후원사에서 준 문제니 출제진 잘못이 아니라고 정신승리 하겠습니다.
3. 아무것도 못 푸는 사람은 없을듯(모든 참가자가 1문제 이상은 풀 수 있게) -> 아쉽게도 단 두명이 한 문제도 풀지 못했습니다. 그래도 60명의 참가자를 생각하면 개인적으론 충분히 봐줄만한 정도라 생각합니다.
4. 그래도 1등은 문제수-1 정도는 풀어줬으면 좋겠다. -> D를 제외하고 전체 문제 수가 7문제라 하더라도 6문제를 푼 사람이 나오지 않아서 다소 아쉬운 점입니다.

 전체적으로 이상에 가까운 난이도 밸런싱이었다 생각하고, 참가자들이 감탄을 많이 했던 아이디어형 문제인 C번 문제도 있어서 문제에 대한 호응도 꽤 괜찮았다 생각합니다. 거기에 대회 중에 질문이 많이 들어오지 않아 문제 설명에 대해서 충분한 설명을 했다는 점에 대해서도 만족스러웠습니다.

 단 한가지 대회에 대해서 아쉬웠던 점으로, 스코어보드 공개 때 호응이 너무 없었습니다. koosaga님께서 분위기를 띄워보려고 열심히 리액션을 해주셨고 나도 나름대로 했으나, 끝까지 호응을 같이 안해주던게 굉장히 아쉬웠엇습니다. 다들 이런 공개방식을 처음 겪어서 그런 것이라 생각합니다.
 
