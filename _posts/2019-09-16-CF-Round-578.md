---
layout: post
title:  "Codeforces Round #578 개최 후기"
date:   2019-09-16-16:30
author: djm03178
tags: Codeforces, CF, 코드포스
---

지난 8월 11일, 현재 세계 최대 규모의 사설 프로그래밍 대회 사이트인 [Codeforces](https://codeforces.com/)에서 [hyunuk](https://codeforces.com/profile/hyunuk) (aka. [jwvg0425](https://www.acmicpc.net/user/jwvg0425)) 님과 제가 공동 개최한 [Codeforces Round #578 (Div. 2)](https://codeforces.com/contest/1200)가 열렸습니다. 이전까지 소규모 대회 개최에 출제자나 검수자로 참여해보기는 했었으나, 백 명 내외가 참가했던 기존 대회들과는 달리 무려 만 명이 넘게[^1], 그것도 전세계에서 참가하는 대회였기에 본격적이었습니다.

이 글에서는 이 라운드가 개최되기까지의 전 과정을 돌이켜보고, 문제별로 간단한 솔루션과 함께 코멘트를 남겨보려고 합니다.

## 역사 ##
우선 대회가 처음 계획되었을 때부터 대회가 종료될 때까지의 주요 이벤트들을 시간순으로 적어보려고 합니다. 대회 준비의 전 과정을 간략하게 요약해서 볼 수 있습니다.

### 계획 및 Proposal 작성 ###
처음 코드포스 라운드 개최를 제안한 것은 hyunuk 님이었습니다. 8월 11일 [제2회 소프트콘](https://www.acmicpc.net/contest/view/324)이 끝난 직후, 바로 다음 대회를 코드포스에서 같이 준비해보지 않겠느냐는 제안을 주셨고 제가 수락하면서 대회를 만들기 시작했습니다.

가장 먼저 한 일은 대회의 proposal을 만드는 것입니다. 코드포스의 대회는 개최자가 마음대로 여는 것이 아니라, 코드포스의 coordinator들에게 출제할 문제들에 대한 개요를 적은 proposal을 보여주고, 대회로 만들기에 적합한 문제 세트라는 인정을 받아야 합니다. Coordinator들은 또한 문제들의 디스크립션, 솔루션, 데이터 등을 검토하고 러시아어로 번역할 뿐 아니라[^2], 테스터들을 모으고 완성된 문제들을 코드포스 플랫폼에 적용시켜 대회를 관리하고 출제자들과 함께 대회 중 질문에 답변하는 등 대회 전반에 걸쳐 운영을 이끌어주는 분들입니다.

![일부 문제는 거절되어 삭제했거나, 추후 다른 라운드를 위해 보류되었다.](../assets/images/CF-Round-578/1.png)

Proposal은 문제의 아이디어와 의도된 풀이 정도만 제시하는 것이기 때문에, 형식적이지 않으며 엄밀한 제한도 설정하지 않아도 됩니다.

![B번 문제의 proposal. 지금과 제한도 다르고, 한국어 지문과 풀이도 그대로 남겨놓았다.](../assets/images/CF-Round-578/2.png)

초기에는 hyunuk 님이 3문제, 제가 4문제를 기획하여 문제의 개요와 간단한 풀이를 작성하고 proposal을 열었습니다. 여기까지는 한 달 정도밖에 걸리지 않았고, 문제들도 괜찮았다고 생각했기 때문에 금방 대회 개최를 할 수 있을 것이라고 생각했으나...

### 기다림, 거절, 그리고 새로운 문제들 ###
그 당시 proposal이 많이 밀려 있던 상황이었기 때문에, coordinator의 연락은 아무리 기다려도 오지 않았습니다. 설상가상으로, 10월 13일에는 실수로 proposal을 닫는 버튼을 눌러 큐의 맨 뒤로 밀리기까지 하고 말았습니다.

그렇게 해가 넘어가고, 몇 달이 지나도 아무런 일이 일어나지 않아 이대로 묻히는 줄 알았던 저희에게 처음으로 coordinator로부터 연락이 온 것은 2019년 4월 15일이었습니다.

오랜 시간 기다려 온 저희가 받은 coordinator [KAN](https://codeforces.com/profile/KAN) 님의 첫 평가는 단호했습니다. 7문제 중 5문제가 너무 전형적이거나 이미 출제된 적이 있는 문제라는 이유로 거절되었습니다. 그 날 OK 사인을 받고 대회에 실제로 출제된 문제 2개는 [B. Block Adventure](https://codeforces.com/contest/1200/problem/B)와 [D. White Lines](https://codeforces.com/contest/1200/problem/D)입니다.

생각보다 까다로운 기준에 놀라기도 했지만, 드디어 라운드가 개최될 희망이 보인다는 것을 기뻐하며 새로운 문제들을 만들기 시작했습니다. 어려운 난이도의 문제들이 대부분 거절당했기에, 저희한테도 쉽지 않은 수준의 좋은 문제들을 다시 만드는 것은 쉬운 일은 아니었습니다.

약 한 달에 걸쳐 다시 6문제가 완성되고, 그 후 KAN 님이 다시 찾아오신 날은 6월 4일이었습니다.

### 문제 작성 ###
최상위 난이도가 다시 한 번 거절되었지만, 나머지 문제들에 대해 통과 신호를 받고 대회 구성을 시작해도 된다는 허락을 받았습니다. 이때 통과된 세 문제가 [A. Hotelier](https://codeforces.com/contest/1200/problem/A), [C. Round Corridor](https://codeforces.com/contest/1200/problem/C), 그리고 [E. Compress Words](https://codeforces.com/contest/1200/problem/E)입니다. 또한 KAN 님과의 보다 원활한 소통을 위해 Telegram을 사용하기 시작했습니다.

코드포스의 대회 문제들은 [Polygon](https://polygon.codeforces.com/)[^3]에서 제작하게 되어 있습니다. Polygon에서 작성한 문제를 코드포스가 직접 가져오는 형식으로 되어 있기 때문입니다. 이때부터 대회 개최 전까지는 틈 나는 대로 지문을 작성하고, 데이터를 생성하고, 다양한 솔루션 / 틀린 코드들을 만들었는데, 이에 대한 것은 아래에서 문제별로 다시 서술하겠습니다.

그 동안 최상위 문제도 두 개를 더 만들었고, 둘 다 괜찮다는 이야기를 들었지만 그 중 더 마음에 들었던 문제인 [F. Graph Traveler](https://codeforces.com/contest/1200/problem/F)를 마지막 문제로 하기로 결정했습니다.

7월 31일경에는 KAN 님이 여러 테스터 분들을 불러 대회 문제들을 모아놓은 비공개 gym을 만들고 테스트를 해주셨습니다. 얼마 후 저희가 직접 백준 온라인 저지에서 홍보를 통해 여러 테스터 분들을 더 모셨고, 많은 테스트를 통해 문제들이 한층 더 두터워지게 되었습니다.

8월 11일, 대회 당일에는 지문과 데이터를 마지막으로 점검하고, 에디토리얼을 작성했습니다.

그렇게 하여 정확히 1년간 준비해 온 코드포스 라운드를 개최하게 되었습니다.

### 대회 개최 ###
대회 당일에는 KAN 님이 바쁘셔서 대신 [arsijo](https://codeforces.com/profile/arsijo) 님이 봐주시게 되었습니다. 전날에서야 대회 내용을 보게 되신지라, 재빨리 문제들을 한 번씩 풀어보고 대회 세팅을 마무리 해주셨습니다. 대회 중 저희가 해야 할 일에 대한 설명을 듣고, 텔레그램 방에 모여서 대회 시작을 맞이했습니다.

대회 중에 출제자가 할 일은 질문에 답변하는 것이 거의 전부였습니다. 문제가 러시아어로도 번역되어 있기 때문에 간혹 러시아어 질문이 올라오기도 했는데, 그런 질문들은 arsijo 님이 답변을 대신 해주셨기 때문에 신경쓰지 않아도 괜찮았습니다. 총 116개에 달하는 질문들에 2시간 동안 답변을 했습니다.



## 문제 풀이 및 의견 ##
자세한 풀이법은 [에디토리얼](https://codeforces.com/blog/entry/69035)에 영어로 적혀 있으니, 이 글에서는 풀이 자체보다는 각 문제를 출제하기까지의 과정, 또 문제를 만들면서 들었던 생각들을 중심으로 쓰겠습니다.

### [A. Hotelier](https://codeforces.com/contest/1200/problem/A) ###
hyunuk 님의 문제로, 세 종류의 연산을 간단히 브루트 포스로 처리하면 되는 간단한 문제입니다. 처음의 proposal에는 포함되지 않았지만 지금은 B번이 된 Block Adventure 문제가 제일 쉬운 난이도로 적합하지 않다는 KAN 님의 의견에 따라 새로 만들게 되었습니다. 지금 생각하면 이 문제를 만들지 않았다면 난이도가 시작부터 산으로 가버리는 세트가 되었을 것 같습니다.

이 문제를 통해 확실하게 느낀 것이 하나 있다면, 쉬운 문제일수록 pretest에[^4] 신경을 정말 많이 써야 한다는 점입니다. 문제 자체가 해야 할 일이 너무나 직설적이기 때문에 출제자와 테스터 누구도 system test에서[^4] 실패하는 코드가 그렇게 많을 것이라고 생각하지 못했습니다. 알고 보니 system test에서 틀린 대부분의 코드는 단순히 반복문의 왼쪽 경계나 오른쪽 경계를 온전하게 체크하지 못한 코드들이었고, 이런 실수는 흔하게 나올 수 있음을 간과하지 말았어야 했는데 실제로 그러한 코드들을 테스트 해보지 않고 랜덤과 몇 가지 패턴만으로 pretest에서 걸러질 것이라고 안일하게 생각한 것이 착오였습니다.

### [B. Block Adventure](https://codeforces.com/contest/1200/problem/B) ###
제가 만든 문제로, 위에서 언급한 것과 같이 처음에는 가장 쉬운 난이도로 쓰려고 계획했던 문제였습니다. 하지만 그것은 정말 위험한 생각이었음을 대회 중이 되어서야 느낄 수 있었습니다. 다른 분들이 저와 열심히 줄다리기를 해주지 않으셨다면 정말로 A번이 되거나, 배점이 지금보다 낮았을지도 모릅니다.

문제의 아이디어를 오래 생각하다 보니 '다음 기둥으로 넘어가기 전에 가능한 많은 블록을 가져가야 한다'와 '그렇게 하려면 $h_i$가 $max(0, h_{i+1} - k)$가 되게 만들면 된다'는 두 가지 관찰이 너무나 쉽고 당연하게 느껴졌습니다.

대회 결과를 보면서, 대회 proposal을 쓰는 곳에 쓰인 경고문이 정말로 맞는 말이었다는 사실을 다시 한 번 느꼈습니다.

> Difficulty: try to estimate the problem's difficulty. It can be changed during review. **Remember that authors tend to underestimate the difficulty of their problems.**



[^1]: 공식 참가자 10742명, 비공식 참가자 321명, 합계 11063명
[^2]: 코드포스는 러시아 웹사이트이기 때문에, 코드포스에서 개최되는 라운드의 문제들은 기본적으로 모두 영어와 러시아어 버전을 모두 제공합니다.
[^3]: 꼭 코드포스 대회가 아니더라도 프로그래밍 문제를 체계적으로 작성하는 데에도 유용합니다. 자세한 사용법은 http://www.secmem.org/blog/2019/05/17/polygon-how-to-use/ 에서 볼 수 있습니다.
[^4]: 코드포스 기본 대회는 대회 중에는 pretest라고 하는 적은 수의 테스트들에 대해서만 채점을 하여 그 결과만 알려주고, 대회가 끝난 후 pretest를 통과한 모든 코드들을 전체 데이터에 대해 재채점하는 system test 과정을 거치게 됩니다. System test를 통과해야 정답 처리가 됩니다. 일반적으로 출제자들은 특별한 경우를 제외하고는 pretest를 강하게 만들도록 되어 있습니다.
